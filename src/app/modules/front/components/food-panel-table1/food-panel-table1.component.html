<table
    mat-table
    [dataSource]="dataSource"
    class="mat-elevation-z8 food-table"
>
    <ng-container matColumnDef="{{displayedColumns[0]}}">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
            <div class="food-table__field">
                <span
                    [ngClass]="{
                        'food-table__field-name': true,
                        'vm__hide': currentFieldID === element.nameID
                    }"
                    (click)="edit(element, displayedColumns[0])"
                >
                    {{element.name}}
                </span>
                <input
                    *ngIf="currentFieldID === element.nameID"
                    [ngClass]="{
                        'food-table__field-input': true
                    }"
                    [appAutoFocus]
                    (blur)="checkIsEmpty($event)"
                    (keyup.enter)="checkIsEmpty($event)"
                    placeholder="{{ element.name }}"
                    [attr.data-panel-id]="element.panelID"
                    [attr.data-group-id]="element.groupID"
                    [attr.data-item-id]="element.itemID"
                    [attr.data-item-name]="displayedColumns[0]"
                >
            </div>
        </td>
    </ng-container>
    
    <ng-container matColumnDef="{{displayedColumns[1]}}">
        <th mat-header-cell *matHeaderCellDef>Б<span class="vm__mobile-hide">елки</span></th>
        <td mat-cell *matCellDef="let element">
            <div class="food-table__field">
                <span
                    [ngClass]="{
                        'food-table__field-name': true,
                        'vm__hide': currentFieldID === element.proteinID
                    }"
                    (click)="edit(element, displayedColumns[1])"
                >
                    {{element.protein}}
                </span>
                <input
                    *ngIf="currentFieldID === element.proteinID"
                    [ngClass]="{'food-table__field-input': true}"
                    [appAutoFocus]
                    (blur)="checkIsEmpty($event)"
                    (keyup.enter)="checkIsEmpty($event)"
                    placeholder="{{ element.protein }}"
                    [attr.data-panel-id]="element.panelID"
                    [attr.data-group-id]="element.groupID"
                    [attr.data-item-id]="element.itemID"
                    [attr.data-item-name]="displayedColumns[1]"
                >
            </div>
        </td>
    </ng-container>
    
    <ng-container matColumnDef="{{displayedColumns[2]}}">
        <th mat-header-cell *matHeaderCellDef>У<span class="vm__mobile-hide">глеводы</span></th>
        <td mat-cell *matCellDef="let element">
            <div class="food-table__field">
                <span
                    [ngClass]="{
                        'food-table__field-name': true,
                        'vm__hide': currentFieldID === element.carbsID
                    }"
                    (click)="edit(element, displayedColumns[2])"
                >
                    {{element.carbs}}
                </span>
                <input
                    *ngIf="currentFieldID === element.carbsID"
                    [ngClass]="{'food-table__field-input': true}"
                    [appAutoFocus]
                    (blur)="checkIsEmpty($event)"
                    (keyup.enter)="checkIsEmpty($event)"
                    placeholder="{{ element.carbs }}"
                    [attr.data-panel-id]="element.panelID"
                    [attr.data-group-id]="element.groupID"
                    [attr.data-item-id]="element.itemID"
                    [attr.data-item-name]="displayedColumns[2]"
                >
            </div>
        </td>
    </ng-container>
    
    <ng-container matColumnDef="{{displayedColumns[3]}}">
        <th mat-header-cell *matHeaderCellDef>Ж<span class="vm__mobile-hide">иры</span></th>
        <td mat-cell *matCellDef="let element">
            <div class="food-table__field">
                <span
                    [ngClass]="{
                        'food-table__field-name': true,
                        'vm__hide': currentFieldID === element.fatID
                    }"
                    (click)="edit(element, displayedColumns[3])"
                >
                    {{element.fat}}
                </span>
                <input
                    *ngIf="currentFieldID === element.fatID"
                    [ngClass]="{'food-table__field-input': true}"
                    [appAutoFocus]
                    (blur)="checkIsEmpty($event)"
                    (keyup.enter)="checkIsEmpty($event)"
                    placeholder="{{ element.fat }}"
                    [attr.data-panel-id]="element.panelID"
                    [attr.data-group-id]="element.groupID"
                    [attr.data-item-id]="element.itemID"
                    [attr.data-item-name]="displayedColumns[3]"
                >
            </div>
        </td>
    </ng-container>
    
    <ng-container matColumnDef="{{displayedColumns[4]}}">
        <th mat-header-cell *matHeaderCellDef>К<span class="vm__mobile-hide">алории</span></th>
        <td mat-cell *matCellDef="let element">
            <div class="food-table__field">
                <span
                    [ngClass]="{
                        'food-table__field-name': true,
                        'vm__hide': currentFieldID === element.caloriesID
                    }"
                    (click)="edit(element, displayedColumns[4])"
                >
                    {{element.calories}}
                </span>
                <input
                    *ngIf="currentFieldID === element.caloriesID"
                    [ngClass]="{'food-table__field-input': true}"
                    [appAutoFocus]
                    (blur)="checkIsEmpty($event)"
                    (keyup.enter)="checkIsEmpty($event)"
                    placeholder="{{ element.calories }}"
                    [attr.data-panel-id]="element.panelID"
                    [attr.data-group-id]="element.groupID"
                    [attr.data-item-id]="element.itemID"
                    [attr.data-item-name]="displayedColumns[4]"
                >
            </div>
        </td>
    </ng-container>
    
    <ng-container matColumnDef="add">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
            <button mat-button>
                <mat-icon class="example-icon" aria-hidden="false" aria-label="Example user verified icon">add_circle</mat-icon>
            </button>
        </td>
    </ng-container>
    
    <ng-container matColumnDef="remove">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
            <button mat-button>
                <mat-icon class="example-icon" aria-hidden="false" aria-label="Example user verified icon">delete</mat-icon>
            </button>
        </td>
    </ng-container>
    
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>